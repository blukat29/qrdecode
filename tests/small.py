import sys
sys.path.insert(0, "..")
from decoder import *
from codec import *

s = """
#######...##..#######
#.....#.#...#.#.....#
#.###.#.#...#.#.###.#
#.###.#.#...#.#.###.#
#.###.#.#.###.#.###.#
#.....#.#.#...#.....#
#######.#.#.#.#######
.....................
..#..#######.#.#####.
...###.######.#..#..#
##.##.##..#.#.#...#.#
.###....#..#.#..##..#
###...##..####......#
........##..##.#...#.
#######.######.###..#
#.....#.##..#.##.....
#.###.#...#..#.##...#
#.###.#....####......
#.###.#.##...##...###
#.....#..##.#.#.#....
#######...##..#..##.#
"""

ver, arr = to_arr(s)
arr = mask(ver, arr, 1)
words = walk(ver, arr)
dat, ecc = split_blocks(ver, 3, words)
print QRCodec.decode(ver, dat)

